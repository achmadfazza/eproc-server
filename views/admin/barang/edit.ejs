<%- include ('../../partials/header.ejs') %> 
<%- include ('../../partials/navbar.ejs')%>
<%- include ('../../partials/sidebar.ejs') %>

<div class="content-wrapper">
  <section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Menu Pengadaan Barang</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="/barang">Pengadaan</a></li>
            <li class="breadcrumb-item active">Ubah</li>
          </ol>
        </div>
      </div>
    </div><!-- /.container-fluid -->
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title">Form Ubah Pengadaan Barang</h3>
              </div>
              <form action="/barang/edit/<%= barang._id %>?_method=PUT" method="POST">
                <div class="card-body">
                  <div class="form-group">
                    <label for="name">Nama Barang</label>
                    <input type="text" value="<%= barang.name %>" name="name" class="form-control" id="name" placeholder="Masukan Nama Kategori">
                  </div> 
                  <div class="form-group">
                    <label>Kategori</label>
                    <select class="form-control select2" style="width: 100%;" name="category" required>
                      <option selected="selected">Pilih Kategori</option>
                      <% category.forEach(category => { %>
                        <option value="<%= category._id %>"
                            <% if(category._id.toString() === barang?.category?._id.toString()) { %>
                              selected
                           <% } %>
                        >
                            <%= category.name %></option>
                      <% }) %>
                    </select>
                  </div>  
                  <div class="form-group">
                    <label>Lokasi</label>
                    <select class="form-control select2" style="width: 100%;" name="location" required>
                      <option selected="selected">Pilih Lokasi</option>
                      <% location.forEach(location => { %>
                        <option value="<%= location._id %>"
                            <% if(location._id.toString() === barang?.location?._id.toString()) { %>
                              selected
                           <% } %>
                        >
                            <%= location.name %></option>
                      <% }) %>
                    </select>
                  </div>  
                  <div class="form-group">
                      <label>Tanggal</label>
                        <div class="input-group date" data-target-input="nearest">
                            <input type="text" id="reservationdate" name="reservationdate" value="<%= barang.reservationdate %> class="form-control datetimepicker-input" data-target="#reservationdate"/>
                            <div class="input-group-append" data-target="#reservationdate" data-toggle="datetimepicker">
                                <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                      <label for="name">Kebutuhan</label>
                      <input type="text" value="<%= barang.requirement %>" name="requirement" class="form-control" id="requirement" >
                    </div> 
                    <div class="form-group">
                      <label for="name">Deskripsi</label>
                      <input type="text" value="<%= barang.description %>" name="description" class="form-control" id="description" >
                    </div> 
                </div>
                <div class="card-footer">
                  <button type="submit" class="btn btn-primary">Simpan</button>
                </div>
              </form>
            </div>
          </div> 
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<%- include ('../../partials/footer.ejs')%> 
<%- include ('../../partials/js.ejs') %>